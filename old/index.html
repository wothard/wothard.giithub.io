<!doctype html>
<html class="theme-next use-motion theme-next-mala">

<head>


  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />


  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" />




  <link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1" />


  <meta name="description" content="出不入兮往不反，平原忽兮路超远。带长剑兮挟秦弓，首身离兮心不惩。" />



  <meta name="keywords" content="shi,ahi" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


  <meta name="description" content="出不入兮往不反，平原忽兮路超远。带长剑兮挟秦弓，首身离兮心不惩。">
  <meta property="og:type" content="article">
  <meta property="og:title" content="2020">
  <meta property="og:url" content="http://yoursite.com/2020/04/12/2020/index.html">
  <meta property="og:site_name" content="路漫漫兮其修远 吾将上下而求索">
  <meta property="og:description" content="出不入兮往不反，平原忽兮路超远。带长剑兮挟秦弓，首身离兮心不惩。">
  <meta property="article:published_time" content="2020-04-12T08:26:05.000Z">
  <meta property="article:modified_time" content="2020-04-12T08:26:05.125Z">
  <meta property="article:author" content="Wothard">
  <meta name="twitter:card" content="summary">


  <script type="text/javascript" id="hexo.configuration">
    var CONFIG = {
      scheme: 'Mala',
      sidebar: 'post'
    };
  </script>

  <title> 2020 | 路漫漫兮其修远 吾将上下而求索 </title>
  <meta name="generator" content="Hexo 4.2.0">
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode" target="_blank" rel="noopener">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner">
        <h1 class="site-meta">
          <span class="logo-line-before"><i></i></span>
          <a href="/" class="brand" rel="start">
            <span class="logo">
              <i class="icon-next-logo"></i>
            </span>
            <span class="site-title">入不言兮出不辞， 乘回风兮载云旗。 悲莫悲兮生别离， 乐莫乐兮新相知。</span>
          </a>
          <span class="logo-line-after"><i></i></span>
        </h1>

        <div class="site-nav-toggle">
          <button>
            <span class="btn-bar"></span>
            <span class="btn-bar"></span>
            <span class="btn-bar"></span>
          </button>
        </div>

        <nav class="site-nav">



          <ul id="menu" class="menu ">


            <li class="menu-item menu-item-home">
              <a href="/" rel="section">
                <i class="menu-item-icon icon-next-home"></i> <br />
                🌝首页
              </a>
            </li>


            <li class="menu-item menu-item-categories">
              <a href="/categories" rel="section">
                <i class="menu-item-icon icon-next-categories"></i> <br />
                🤣分类
              </a>
            </li>


            <li class="menu-item menu-item-archives">
              <a href="/archives" rel="section">
                <i class="menu-item-icon icon-next-archives"></i> <br />
                🍺归档
              </a>
            </li>


            <li class="menu-item menu-item-tags">
              <a href="/tags" rel="section">
                <i class="menu-item-icon icon-next-tags"></i> <br />
                🤪标签
              </a>
            </li>


            <li class="menu-item menu-item-about">
              <a href="/about" rel="section">
                <i class="menu-item-icon icon-next-about"></i> <br />
                😜关于
              </a>
            </li>




          </ul>



        </nav>

      </div>
    </header>








    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">

          <div id="posts" class="posts-expand">


            <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
              <header class="post-header">



                <h1 class="post-title" itemprop="name headline">



                  2020


                </h1>


                <div class="post-meta">
                  <span class="post-time">
                    发表于
                    <time itemprop="dateCreated" datetime="2020-04-12T16:26:05+08:00" content="2020-04-12">
                      2020-04-12
                    </time>
                  </span>


                </div>
              </header>

              <div class="post-body">
                <span itemprop="articleBody"></span>
              </div>
              <div class="post-body" itemprop="articleBody">
                <p>Hi，虽然今天吃了一颗糖，其实也没啥庆祝的，一个后端的假的程序员，花了一下午弄的博客，简洁的很啊。</p>
              </div>
              <div class="post-body" itemprop="articleBody">





                <p>-开始前的准备</p>
                <p>系统环境：在Windows上测试的，Django版本是1.6，python 2.7.13</p>
                <figure class="highlight plain">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">&lt;!-- more --&gt;</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>1.创建工程</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">django-admin.py startproject yoursitename</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p><strong>工程文件夹下三个重要的文件</strong></p>
                <p>manage.py —– Django项目里面的工具，通过它可以调用django shell和数据库等。</p>
                <p>settings.py —- 包含了项目的默认设置，包括数据库信息，调试标志以及其他一些工作的变量。</p>
                <p>urls.py —– 负责把URL模式映射到应用程序。(后两个文件在工程文件夹的同名文件夹内)</p>
                <p>2.运行服务</p>
                <p>在工程文件夹下，也就是manage.py所在文件夹。</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">python manage.py runserver</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>然后打开浏览器，访问<a href="http://127.0.0.1:8000即可看到运行状态。" target="_blank"
                    rel="external">http://127.0.0.1:8000即可看到运行状态。</a></p>
                <p>3.创建blog应用</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">python manage.py startapp blog <span class="comment"># 这也是在工程文件夹下</span></div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>在工程文件夹下会生成blog文件夹，里面生成：</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">__init__.py, admin.py, models.py, test.py, views.py <span class="comment"># 5个文件</span></div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>4.编辑blog文件夹下的models.py</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"></div><div class="line"><span class="comment"># Create your models here.</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogsPost</span><span class="params">(models.Model)</span>:</span></div><div class="line">    <span class="string">''' 创建一个BlogsPost类，继承django.db.models.Model父类'''</span></div><div class="line">    title = models.CharField(max_length = <span class="number">150</span>)</div><div class="line">    body = models.TextField()</div><div class="line">    timestamp = models.DateTimeField()</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>5.创建数据库</p>
                <p>python中自带SQLite数据库，所以无需修改</p>
                <p>如果使用Mysql数据库需要修改<strong>工程文件夹下同名文件夹的settings.py</strong></p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">DATABASES = &#123; </div><div class="line">    <span class="string">'default'</span>: &#123;</div><div class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.mysql'</span>,</div><div class="line">        <span class="string">'NAME'</span>: <span class="string">'xblog'</span>,    <span class="comment">## 数据库名称</span></div><div class="line">        <span class="string">'USER'</span>: <span class="string">'root'</span>,</div><div class="line">        <span class="string">'PASSWORD'</span>: <span class="string">'password'</span>,    <span class="comment">## 安装 mysql 数据库时，输入的 root 用户的密码</span></div><div class="line">        <span class="string">'HOST'</span>: <span class="string">'127.0.0.1'</span>,</div><div class="line">    &#125;   </div><div class="line">&#125;</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>然后执行创建命令：</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">python manage.py syncdb</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>创建过程中会出现选择：输入yes，然后是超级用户名，邮箱，密码(自定义，不是邮箱密码)用于登录管理系统。</p>
                <p>6.添加blog应用到settings.py</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="comment"># Application definition</span></div><div class="line"></div><div class="line">INSTALLED_APPS = (</div><div class="line">    <span class="string">'django.contrib.admin'</span>,</div><div class="line">    <span class="string">'django.contrib.auth'</span>,</div><div class="line">    <span class="string">'django.contrib.contenttypes'</span>,</div><div class="line">    <span class="string">'django.contrib.sessions'</span>,</div><div class="line">    <span class="string">'django.contrib.messages'</span>,</div><div class="line">    <span class="string">'django.contrib.staticfiles'</span>,</div><div class="line">    <span class="string">'blog'</span>, <span class="comment"># 只是添加这一项</span></div><div class="line">)</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>修改跟settings.py同文件夹的urls.py</p>
                <p>原文件：</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">urlpatterns = patterns(<span class="string">''</span>,</div><div class="line">    <span class="comment"># Examples:</span></div><div class="line">    <span class="comment"># url(r'^$', 'mysite.views.home', name='home'),</span></div><div class="line">    <span class="comment"># url(r'^blog/', include('blog.urls')),</span></div><div class="line">    <span class="comment"># url(r'^admin/', include(admin.site.urls)),</span></div><div class="line">)</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>修改成：</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">urlpatterns = patterns(<span class="string">''</span>,</div><div class="line">    <span class="comment"># Examples:</span></div><div class="line">    <span class="comment"># url(r'^$', 'mysite.views.home', name='home'),</span></div><div class="line">    <span class="comment"># url(r'^blog/', include('blog.urls')),</span></div><div class="line">    url(<span class="string">r'^admin/'</span>, include(admin.site.urls)),</div><div class="line">)</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>7.将创建数据添加到后台</p>
                <p>编辑blog文件夹下的models.py</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</div><div class="line"></div><div class="line"><span class="comment"># Create your models here.</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogsPost</span><span class="params">(models.Model)</span>:</span></div><div class="line">    title = models.CharField(max_length = <span class="number">150</span>)</div><div class="line">    body = models.TextField()</div><div class="line">    timestamp = models.DateTimeField()</div><div class="line"></div><div class="line">admin.site.register(BlogsPost) <span class="comment"># 添加这一行</span></div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>再次初始化数据库</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">python manage.py syncdb </div><div class="line">python manage.py runserver <span class="comment"># 访问后台，http://127.0.0.1:8000/admin/ 输入用户名，密码，登录</span></div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p><strong>然后随意创建post，后面会用于显示。</strong></p>
                <p>8.创建模板</p>
                <p>在blog文件夹下新建一个templates文件夹，然后在该文件夹下新建一个<strong>archive.html</strong>文件</p>
                <figure class="highlight html">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">&#123;% for post in posts %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; post.timestamp &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; post.body &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">&#123;% endfor%&#125;</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>然后设置模板路径，修改settings.py</p>
                <p>在最后面添加</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="comment">#template</span></div><div class="line">TEMPLATE_DIRS=(</div><div class="line">    <span class="string">'/home/fnngj/djpy/mysite/blog/templates'</span></div><div class="line">)</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>在blog文件夹下的views.py中创建试图函数</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="keyword">from</span> django.template <span class="keyword">import</span> loader,Context</div><div class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</div><div class="line"><span class="keyword">from</span> blog.models <span class="keyword">import</span> BlogsPost</div><div class="line"></div><div class="line"><span class="comment"># Create your views here.</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">archive</span><span class="params">(request)</span>:</span></div><div class="line">    posts = BlogsPost.objects.all()</div><div class="line">    t = loader.get_template(<span class="string">"archive.html"</span>)</div><div class="line">    c = Context(&#123;<span class="string">'posts'</span>:posts&#125;)</div><div class="line">    <span class="keyword">return</span> HttpResponse(t.render(c))</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>posts = BlogPost.objects.all() ：获取数据库里面所拥有BlogPost对象</p>
                <p>t = loader.get_template(“archive.html”)：加载模板</p>
                <p>c = Context({‘posts’:posts})：模板的渲染的数据是有一个字典类的对象Context提供，这里的是一对键值对。</p>
                <p>9.创建blog的url模式</p>
                <p>原文件：</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">urlpatterns = patterns(<span class="string">''</span>,</div><div class="line">    <span class="comment"># Examples:</span></div><div class="line">    <span class="comment"># url(r'^$', 'mysite.views.home', name='home'),</span></div><div class="line">    <span class="comment"># url(r'^blog/', include('blog.urls')),</span></div><div class="line">    url(<span class="string">r'^admin/'</span>, include(admin.site.urls)),</div><div class="line">)</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>修改后：</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">urlpatterns = patterns(<span class="string">''</span>,</div><div class="line">    <span class="comment"># Examples:</span></div><div class="line">    <span class="comment"># url(r'^$', 'mysite.views.home', name='home'),</span></div><div class="line">    url(<span class="string">r'^blog/'</span>, include(<span class="string">'blog.urls'</span>)),</div><div class="line">    url(<span class="string">r'^admin/'</span>, include(admin.site.urls)),</div><div class="line">)</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>10.blog的urls</p>
                <p>在blog文件夹下新建一个<strong>urls.py</strong></p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> *</div><div class="line"><span class="keyword">from</span> blog.views <span class="keyword">import</span> archive</div><div class="line"></div><div class="line">urlpatterns = patterns(<span class="string">''</span>,</div><div class="line">                      url(<span class="string">r'^$'</span>,archive),</div><div class="line">                      )</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p><strong>最后可以选择给博客添加样式</strong></p>
                <p>在blog/templates/创建一个html文件，然后让archive.html引用就完成了。</p>
                <figure class="highlight html">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line">&#123;% extends "united.html" %&#125;</div><div class="line">  &#123;% block content %&#125;</div><div class="line">    archive.html内容</div><div class="line">  &#123;% endblock %&#125;</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>然后找一个美化的样式写到united.html中就行了。</p>
                <p><img src="https://github.com/wothard/wothard.github.io/blob/master/images/blog.png?raw=true" alt=""
                    title="Lo"></p>


              </div>
              <div class="post-body" itemprop="articleBody">





                <h2 id="Python爬虫遇到的多线程的坑"><a href="#Python爬虫遇到的多线程的坑" class="headerlink"
                    title="Python爬虫遇到的多线程的坑"></a>Python爬虫遇到的多线程的坑</h2>
                <h1 id="先谈谈我的认识"><a href="#先谈谈我的认识" class="headerlink" title="先谈谈我的认识"></a>先谈谈我的认识</h1>
                <ul>
                  <li>
                    <p>
                      其实还没弄懂<strong>并发</strong>和<strong>并行</strong>,然后依照自己的想法去做，别人是用多线程下载网页的，我爬的是网易云音乐的评论数，而用到多线程去解析，做了三个脚本：
                    </p>
                  </li>
                  <li>
                    <p>第一个是只用threading的方法和类去弄。</p>
                  </li>
                  <li>
                    <p>第二个是比第一个多了Queue模块。</p>
                  </li>
                  <li>
                    <p>第三个想法行不通（看到别人提到可以用map函数提高效率，但结果是脚本没有运行成功，一直卡着）。</p>
                  </li>
                  <li>
                    <p>虽然想到要用多进程去弄，但还没看明白，所以算了。</p>
                    <h1 id="讲给未来的自己吧"><a href="#讲给未来的自己吧" class="headerlink" title="讲给未来的自己吧"></a>讲给未来的自己吧</h1>
                  </li>
                  <li>
                    <p>多线程的知识：</p>
                  </li>
                  <li>
                    <h2 id="线程模块"><a href="#线程模块" class="headerlink" title="线程模块"></a>线程模块</h2>
                    <ul>
                      <li>Python通过两个标准库thread和threading提供对线程的支持。thread提供了低级别的、原始的线程以及一个简单的锁。</li>
                      <li>thread 模块提供的其他方法：</li>
                      <li><strong>threading.currentThread():</strong> 返回当前的线程变量。</li>
                      <li><strong>threading.enumerate():</strong> 返回一个包含正在运行的线程的list。正在运行指线程启动后、结束前，不包括启动前和终止后的线程。</li>
                    </ul>
                  </li>
                  <li><strong>threading.activeCount(): </strong>返回正在运行的线程数量，与len(threading.enumerate())有相同的结果。<ul>
                      <li>除了使用方法外，线程模块同样提供了Thread类来处理线程，Thread类提供了以下方法:</li>
                      <li><strong>run():</strong> 用以表示线程活动的方法。</li>
                      <li><strong>start():</strong> 启动线程活动。</li>
                      <li><strong>join([time]):</strong> 等待至线程中止。这阻塞调用线程直至线程的join() 方法被调用中止-正常退出或者抛出未处理的异常-或者是可选的超时发生。
                      </li>
                      <li><strong>isAlive():</strong> 返回线程是否活动的。</li>
                      <li><strong>getName():</strong> 返回线程名。</li>
                      <li><strong>setName():</strong> 设置线程名。</li>
                    </ul>
                  </li>
                </ul>
                <h2 id="重要的代码块"><a href="#重要的代码块" class="headerlink" title="重要的代码块"></a>重要的代码块</h2>
                <p>一个最基本的线程运用：</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># encoding: utf-8</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> threading</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThreadingTest</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        threading.Thread.__init__(self)</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="comment"># you function code run here</span></div><div class="line">    <span class="comment"># 或者在定义一个函数然后，实例函数写到run函数里面</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(num):</div><div class="line">    <span class="comment"># num 是想要执行多少的线程</span></div><div class="line">    t = ThreadingTest()</div><div class="line">    t.start()</div><div class="line">    t.join()</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p>但是上面没有Queue模块，Queue模块是提供队列操作的模块，对于多线程而言，访问共享变量时，队列queue是线程安全的。So 来一个！</p>
                <figure class="highlight python">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre>
                      </td>
                      <td class="code">
                        <pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># encoding: utf-8</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> threading</div><div class="line"><span class="keyword">import</span> Queue</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThreadingTest</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, queue)</span>:</span></div><div class="line">        threading.Thread.__init__(self)</div><div class="line">        self.queue = queue</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="comment"># queue需要写在循环里面</span></div><div class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">            <span class="comment"># 将需要共享的内容读取到queue里面</span></div><div class="line">            somenthing = self.queue.get()</div><div class="line">            <span class="comment"># you function code run here</span></div><div class="line">            <span class="comment"># 当线程（不是函数）运行得到结果后，queue队列任务结束，并进行下一循环</span></div><div class="line">            self.queue.task_done()</div><div class="line">    <span class="comment"># 或者在定义一个函数然后，实例函数写到run函数里面</span></div><div class="line">    </div><div class="line"><span class="comment"># 用循环将共享的内容读取到queue队列</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">QueueRun</span><span class="params">()</span>:</span></div><div class="line">    queue = Queue.Queue()</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> something:</div><div class="line">    <span class="comment"># 或 for i in range(num):</span></div><div class="line">    queue.put(i)</div><div class="line">    <span class="comment"># 运行线程</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</div><div class="line">        t = ThreadingTest()</div><div class="line">        t.setDaemon(<span class="keyword">True</span>)  <span class="comment"># 设置子线程不跟随主线程结束而结束</span></div><div class="line">        t.start()</div><div class="line">    queue.join()</div></pre>
                      </td>
                    </tr>
                  </table>
                </figure>
                <p><strong>多线程只适用与IO密集型任务</strong>,还有讲到并发和并行：</p>
                <ul>
                  <li>
                    <p>并发性(concurrency)，又称共行性，是指能处理多个同时性活动的能力，并发事件之间不一定要同一时刻发生。</p>
                  </li>
                  <li>
                    <p>并行性(parallelism)是指同时发生的两个并发事件，具有并发的含义，而并发则不一定并行。</p>
                  </li>
                </ul>
                <p>##还有就这样吧</p>


              </div>
              <div class="post-body" itemprop="articleBody">

      
      

      
                <p>float图来了，18号想弄的，非得拖到今天。</p>
        <p>先前想到用svg格式嵌入的，但写在markdown里面没法弄，以后多找找些js工具来弄图表，</p>
        <p>虽然博客是静态的，但只写字太单调了，加点东西装饰，先弄第一个吧</p>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/highcharts-more.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        
        <p><div id="containers"></div></p>
        <button id="plain">Plain</button><br><button id="inverted">Inverted</button><br><button id="polar">Polar</button>
        
        <style type="text/css">containers {
        min-width: 320px;
        max-width: 600px;
        margin: 0 auto;
        }
        </style>
        
        
        <script type="text/javascript">
        
        
        var chart = Highcharts.chart('containers', {
        
            title: {
                text: 'Chart.update'
            },
        
            subtitle: {
                text: 'Plain'
            },
        
            xAxis: {
                categories: ['It\'s All on U', 'Never Forget You (Price &amp; Takis Remix)', 'All Time Low (Cash Cash Remix)', 'Arigato', 'So Long', 'Tokyo', 'All Night', 'XE3 (Wheathin Turn)', 'Shape Of You (Galantis Remix)', 'Galway Girl (Decoy! Remix)', 'Fractures', 'You &amp; Me', 'Petal', 'Hola (Original Mix)', 'Middle Of The Night', 'Starship', 'Silver City', 'Alone (Extended Mix)', 'Where I\'ll Be Waiting (VIP Mix)', 'Scared To Be Lonely']
            },
        
            series: [{
                type: 'column',
                colorByPoint: true,
                data: [135, 402, 1093, 2192, 1529, 572, 1879, 307, 3870, 663, 3283, 2652, 121, 137, 1252, 443, 7456, 583, 6544, 146],
                showInLegend: false
            }]
        
        });
        
        
        $('#plain').click(function () {
            chart.update({
                chart: {
                    inverted: false,
                    polar: false
                },
                subtitle: {
                    text: 'Plain'
                }
            });
        });
        
        $('#inverted').click(function () {
            chart.update({
                chart: {
                    inverted: true,
                    polar: false
                },
                subtitle: {
                    text: 'Inverted'
                }
            });
        });
        
        $('#polar').click(function () {
            chart.update({
                chart: {
                    inverted: false,
                    polar: true
                },
                subtitle: {
                    text: 'Polar'
                }
            });
        });
        
        </script>
        
        <p>按钮没弄是因为css没学，现学现卖也没那能力。暂且就这样吧。</p>
        
              
            </div>
            <div class="post-body" itemprop="articleBody">

      
      

      
              <h1 id="1-照例安装：先安装virtualenv-再安装Django"><a href="#1-照例安装：先安装virtualenv-再安装Django" class="headerlink" title="1 照例安装：先安装virtualenv, 再安装Django"></a>1 照例安装：先安装virtualenv, 再安装Django</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">sudo pip install virtualenv</div><div class="line"><span class="string">'''然后新建一个文件夹，转到该文件夹运行,</span></div><div class="line">新建一个文件夹的目的是将要隔离运行的python版本和</div><div class="line">django工程在同一文件夹下，方便管理，当然也不必这么做。</div><div class="line">'''</div><div class="line">virualenv project  <span class="comment"># 在这里写的例子是project，文件夹名称自定义</span></div><div class="line"></div><div class="line">source project/bin/activate <span class="comment"># 运行隔离环境,然后用隔离环境的python工具pip下载django</span></div><div class="line"></div><div class="line">pip install django  <span class="comment"># 可以指定任一版本</span></div><div class="line">django-admin --version  <span class="comment"># 查看Django的版本</span></div><div class="line"></div><div class="line">deactivate  <span class="comment"># 关闭隔离环境</span></div></pre></td></tr></table></figure>
      <h1 id="2-建立项目（或工程）"><a href="#2-建立项目（或工程）" class="headerlink" title="2 建立项目（或工程）:"></a>2 建立项目（或工程）:</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">django-admin startproject website  <span class="comment"># 在隔离环境下运行,名称自定义</span></div><div class="line"></div><div class="line">python manage.py runserver  <span class="comment"># 启动服务，然后用浏览器打开127.0.0.1:8000，可以改ip和端口</span></div></pre></td></tr></table></figure>
      <h1 id="3-创建app（相当与网站的内容页）"><a href="#3-创建app（相当与网站的内容页）" class="headerlink" title="3 创建app（相当与网站的内容页）"></a>3 创建app（相当与网站的内容页）</h1><p><strong>建立工程后用浏览器打开127.0.0.1:8000，就可以看到服务启动成功的页面。接下来建立一个 web app</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 进入website文件夹运行如下代码</span></div><div class="line">python manage.py startapp music  <span class="comment"># 这里用music作例子，</span></div></pre></td></tr></table></figure>
      <p><strong>在创建工程和应用之后未作任何改动时，文件目录结构如下：</strong></p>
       <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">website</div><div class="line">|----website</div><div class="line">|	|----__init__.py </div><div class="line">	<span class="string">"""__init__.py文件需要使Python将目录视为包含的包;</span></div><div class="line">		这样做可以防止具有公共名称的目录（如字符串）无意中隐藏模块搜索路径上稍后发生的有效模块。</div><div class="line">		在最简单的情况下，__init__.py可以是一个空文件，</div><div class="line">		但也可以执行包的初始化代码或设置__all__变量，稍后再描述。</div><div class="line">	"""</div><div class="line">|	|----settings.py  <span class="comment"># 网站的功能设置</span></div><div class="line">|	|----urls.py  <span class="comment"># 主要的apps地址链接</span></div><div class="line">|	|----wsgi.py  <span class="comment"># 用于你的项目的与WSGI兼容的Web服务器入口</span></div><div class="line">|----music</div><div class="line">|	|----__init__.py <span class="comment"># 同上</span></div><div class="line">|	|----admin.py <span class="comment"># 管理应用</span></div><div class="line">|	|----apps.py <span class="comment"># 跟新建应用有关,管理子链接</span></div><div class="line">|	|----models.py <span class="comment"># 用一个 Python 类来描述数据表，模型(model), 可以用python代替SQL</span></div><div class="line">|	|----tests.py <span class="comment"># 做个人测试</span></div><div class="line">|	|----views.py <span class="comment"># 主要编写视图函数,返回html页面或者404页面,</span></div><div class="line">|----db.sqlite3 <span class="comment"># 数据库文件</span></div><div class="line">|----manage.py <span class="comment"># 可以创建应用，用户，打开shell，数据库同步，启动关闭服务等</span></div></pre></td></tr></table></figure>
      <h1 id="4-修改app（丰富应用，添加各种功能）"><a href="#4-修改app（丰富应用，添加各种功能）" class="headerlink" title="4 修改app（丰富应用，添加各种功能）"></a>4 修改app（丰富应用，添加各种功能）</h1><h2 id="写一个简单的music主页面"><a href="#写一个简单的music主页面" class="headerlink" title="写一个简单的music主页面"></a>写一个简单的music主页面</h2><p><strong>编辑views.py， 清空文件内容，并编写如下代码：</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></div><div class="line">  <span class="keyword">return</span> HttpResponse(<span class="string">"&lt;h1&gt;a string content."</span>)</div></pre></td></tr></table></figure>
      <p><strong>要调用views，我们需要将其映射到URL, 在music文件夹下新建urls.py， 添加如下代码：</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</div><div class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</div><div class="line"></div><div class="line"><span class="comment"># 第二行注释，从同应用中引入其他模块</span></div><div class="line"></div><div class="line">app_name = <span class="string">'music'</span></div><div class="line"></div><div class="line">urlpatterns = [</div><div class="line">    url(<span class="string">r'^$'</span>, views.index, name=<span class="string">'index'</span>),  <span class="comment"># 在views.py中添加index函数，链接后执行该函数</span></div><div class="line">  	url(<span class="string">r'^(?P&lt;album_id&gt;[0-9]+)/$'</span>, views.detail, name=<span class="string">'detail'</span>), <span class="comment"># 获取多个id进行多个分页，</span></div><div class="line">]</div></pre></td></tr></table></figure>
      <p><strong>编辑website/website/urls.py， 文件内初始一个urlpattern列表,用来链接用户指定的apps或新建一个链接</strong></p>
      <p><code>include()</code>函数允许引用其他URLconfs。 请注意，<code>include()</code>函数的正则表达式不具有<code>$</code>（字符串匹配字符），而是尾部斜线。 每当Django遇到<code>include()</code>时，它将删除与此相匹配的URL的任何部分，并将剩余的字符串发送到包含的URLconf进行进一步处理。<strong>(translate from python.usyiyi.cn)</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 原urlpatterns:</span></div><div class="line">urlpatterns = [url(<span class="string">r'^admin/'</span>, admin.site.urls),]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个app后，添加一个app链接：</span></div><div class="line"><span class="comment"># 在urls.py首行修改（添加 include ):</span></div><div class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> include, url</div><div class="line"></div><div class="line">urlpatterns = [</div><div class="line">    <span class="string">'''在music应用建一个urls.py管理music更多的子链接'''</span></div><div class="line">    url(<span class="string">r'^music/'</span>, include(<span class="string">'music.urls'</span>)),</div><div class="line">    url(<span class="string">r'^admin/'</span>, admin.site.urls),</div><div class="line">]</div></pre></td></tr></table></figure>
      <p><strong>在INSTALLED_APPS列表中添加新建的music应用(每次添加一个app记得加上逗号)：</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 在website/website/settings.py 中找到INSTALLED_APPS列表，添加music</span></div><div class="line"><span class="string">'music.apps.MusicConfig'</span>,</div></pre></td></tr></table></figure>
      <p><strong>设置数据库(本例就用简单的sqlite3)</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="string">''' </span></div><div class="line">到website目录下用python运行manage.py用于将应用的内容与数据库同步,</div><div class="line">一般建立一个app后都要执行迁移指令(migrate)，</div><div class="line">'''</div><div class="line">python manage.py migrate  <span class="comment"># 迁移指令，使之与数据库连接和同步</span></div></pre></td></tr></table></figure>
      <p>##为应用添加任何内容</p>
      <p><strong>编辑models.py 新建两个类,内容来自（thenewboston on youtube):</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="string">'''</span></div><div class="line"> 在这里，用歌曲和专辑两个类作内容，</div><div class="line">在Song类中有个ForeignKey()函数,该函数会分配一个id给Album</div><div class="line">类似于数据库table中每一项的id</div><div class="line">作者写的教程用于每张专辑分配一个链接，例子：</div><div class="line">http://127.0.0.1:8000/music/1</div><div class="line">http://127.0.0.1:8000/music/2</div><div class="line">http://127.0.0.1:8000/music/3</div><div class="line">分别对应三张专辑，每张专辑一个html页面</div><div class="line">on_delete参数是指每当删除专辑时，相关联的歌曲也会被删除</div><div class="line">'''</div><div class="line"></div><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Album</span><span class="params">(models.Model)</span>:</span></div><div class="line">    artist = models.CharField(max_length=<span class="number">250</span>)</div><div class="line">    album_title = models.CharField(max_length=<span class="number">500</span>)</div><div class="line">    genre = models.CharField(max_length=<span class="number">100</span>)</div><div class="line">    album_logo = models.CharField(max_length=<span class="number">1000</span>)</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">      <span class="string">'''函数作用是返回对象内容'''</span></div><div class="line">      <span class="keyword">return</span> self.album_title  <span class="comment"># 前面四个内容任意</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Song</span><span class="params">(models.Model)</span>:</span></div><div class="line">    album = models.ForeignKey(Album, on_delete=models.CASCADE)</div><div class="line">    file_type = models.CharField(max_length=<span class="number">10</span>)</div><div class="line">    song_title = models.CharField(max_length=<span class="number">250</span>)</div></pre></td></tr></table></figure>
      <p><strong>register应用内容</strong>:</p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 在music/admin.py 中添加如下代码</span></div><div class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Album, Song</div><div class="line"></div><div class="line">admin.site.register(Album)</div><div class="line">admin.site.register(Song)</div></pre></td></tr></table></figure>
      <p><strong>在website目录下执行如下指令</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">python manage.py makemigrations music  <span class="comment"># 个人理解是将两个类内容转换成数据库table的内容</span></div><div class="line"></div><div class="line">python manage.py migrate  <span class="comment"># 迁移指令，使之与数据库连接和同步</span></div></pre></td></tr></table></figure>
      <p><strong>因为在models.py中只是定义类而已，并没有创建实例和添加内容，而添加内容是很简单的所以不多以详解首先要在virtualenv环境下（因为我安装的django是在隔离环境，所以编写django都要开启virtualenv）在website目录下运行， </strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">python manage.py shell</div><div class="line"><span class="comment"># 运行后会进入一个python命令行的解释器</span></div><div class="line"><span class="comment"># 引入包</span></div><div class="line"><span class="keyword">from</span> music.models <span class="keyword">import</span> Album, Song  <span class="comment"># 写的什么类就导入什么类</span></div><div class="line"><span class="comment"># 然后创建实例，将类中的变量都赋值，比如：</span></div><div class="line">a = Album(artist=<span class="string">"abcd"</span>,......)</div><div class="line">a.save()  <span class="comment"># 保存内容</span></div></pre></td></tr></table></figure>
      <p><strong>现在打开<a href="http://127.0.0.1:8000/music/" target="_blank" rel="external">http://127.0.0.1:8000/music/</a> 还是显示 a string content.一段文字，要添加什么内容就写在models.py里面，要引用页面html之类的就写在views.py里面</strong></p>
      <h2 id="重构music页面，添加404页面"><a href="#重构music页面，添加404页面" class="headerlink" title="重构music页面，添加404页面"></a>重构music页面，添加404页面</h2><p><strong>重新编写views.py,代码如下：</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> Http404</div><div class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, get_object_or_404</div><div class="line"><span class="keyword">from</span> django.template <span class="keyword">import</span> loader</div><div class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Album</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></div><div class="line">  all_albums = Album.objects.all()</div><div class="line">  context = &#123;<span class="string">'all_albums'</span>: all_albums&#125;</div><div class="line">  <span class="keyword">return</span> render(request, <span class="string">'music/index.html'</span>, context)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">detail</span><span class="params">(request, album_id)</span>:</span></div><div class="line">  album = get_object_or_404(Album, pk=album_id)</div><div class="line">  <span class="keyword">return</span> rander(request, <span class="string">'music/detail.html'</span>, &#123;<span class="string">'album'</span>: album&#125;)</div></pre></td></tr></table></figure>
      <p><strong>编写两个函数，index函数用于music页面内容, detail函数用于<a href="http://127.0.0.1:8000/music/album_id/" target="_blank" rel="external">http://127.0.0.1:8000/music/album_id/</a>  (album_id是数字，用每张专辑album的id作分页)分页内容，虽然现在写好了，但是还是无法打开music页面，因为没有编写页面的html。</strong></p>
      <h2 id="使用templates模板"><a href="#使用templates模板" class="headerlink" title="使用templates模板"></a>使用templates模板</h2><p><strong>在music文件夹下创建一个新的文件夹templates,然后在里面再建一个music(注意是music)文件夹,然后在 templates/music 下建一个index.html文件，并编写如下代码：</strong></p>
      <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;% if all_albums %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">	    &#123;% for album in all_albums %&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;% url 'music:detail' album.id %&#125;/"</span>&gt;</span>&#123;&#123; album.album_title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        &#123;% endfor %&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">&#123;% else %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>No content<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">&#123;% endif %&#125;</div></pre></td></tr></table></figure>
      <p><strong>再建一个detail.html：</strong></p>
      <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; album.album_logo &#125;&#125;"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; album.album_title &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; artist &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  &#123;% for song in album.song_set.all %&#125;</div><div class="line">  	<span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; song.song_title &#125;&#125; - &#123;&#123; song.file_type &#125;&#125; <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  &#123;% endfor %&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
      <h2 id="重写view-py"><a href="#重写view-py" class="headerlink" title="重写view.py"></a>重写view.py</h2><p><strong>让view更简单</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.views <span class="keyword">import</span> generic</div><div class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Album</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">IndexView</span><span class="params">(generic.ListView)</span>:</span></div><div class="line">    template_name = <span class="string">'music/index.html'</span></div><div class="line">    context_object_name = <span class="string">'all_albums'</span>  <span class="comment"># 如果写这行就不用更改indx.html</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_queryset</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> Album.objects.all()</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DetailView</span><span class="params">(generic.DetailView)</span>:</span></div><div class="line">    model = Album</div><div class="line">    template_name = <span class="string">'music/detail.html'</span></div></pre></td></tr></table></figure>
      <p><strong>更改urls.py</strong></p>
      <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">urlpatterns = [</div><div class="line">    url(<span class="string">r'^$'</span>, views.IndexView.as_view(), name=<span class="string">'index'</span>),  <span class="comment"># 这是更改之后</span></div><div class="line">  	url(<span class="string">r'^(?P&lt;album_id&gt;[0-9]+)/$'</span>, views.DetailView.as_view(), name=<span class="string">'detail'</span>), <span class="comment"># 同上</span></div><div class="line">]</div></pre></td></tr></table></figure>
      <p><strong>修改index.html</strong></p>
      <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;% if all_albums %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">	    &#123;% for album in object_list %&#125; /* 改动在这里 */</div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;% url 'music:detail' album.id %&#125;/"</span>&gt;</span>&#123;&#123; album.album_title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        &#123;% endfor %&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">&#123;% else %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>No content<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">&#123;% endif %&#125;</div></pre></td></tr></table></figure>
      <h1 id="5-创建管理用户"><a href="#5-创建管理用户" class="headerlink" title="5 创建管理用户"></a>5 创建管理用户</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">python manage.py createsuperuser</div><div class="line"><span class="comment"># 虽然创建成功了，但我们创建的应用还未在管理页面显示</span></div><div class="line"><span class="comment"># 编辑app_name的admin.py文件，添加如下代码</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Album</div><div class="line">admin.site.register(Album)</div></pre></td></tr></table></figure>
      <h1 id="6-网页前端样式模板"><a href="#6-网页前端样式模板" class="headerlink" title="6 网页前端样式模板"></a>6 网页前端样式模板</h1><p><strong>在music文件夹下新建一个static文件夹，然后在static下再建一个music文件夹,然后在music文件夹下新建一个style.css文件,样式随意，但是在index.html中要引用style.css的话，要在index.html加个语句</strong></p>
      <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;% load staticfiles %&#125;</div><div class="line"><span class="comment">&lt;!-- 下面的语句是个例子,href后面用&#123;% static '路径' %&#125;--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"type/css"</span> <span class="attr">href</span>=<span class="string">"&#123;% static 'music/style.css' %&#125;"</span></span></div></pre></td></tr></table></figure>
      <p><strong>在考虑到每个网页用到相同样式的风格，所以将样式或js内容写在一个base.html里面(在music/templates/music文件夹下新建一个base.html)，然后在用index.html扩展</strong></p>
      <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 在base.html 的body标签写两个语句--&gt;</span></div><div class="line">&#123;% block body %&#125;</div><div class="line">&#123;% endblock %&#125;</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 在index.html要扩展base.html的内容要写一个语句--&gt;</span></div><div class="line">&#123;% extends 'music/base.html' %&#125;</div><div class="line"><span class="comment">&lt;!-- 要扩展body部分还要写如下语句 --&gt;</span></div><div class="line">&#123;% block body %&#125;</div><div class="line"><span class="comment">&lt;!-- 在这body中间写index.html的body部分--&gt;</span></div><div class="line">&#123;% endblock %&#125;</div></pre></td></tr></table></figure>
      <p><strong>即index.html中的内容如下（例子）：</strong></p>
      <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&#123;% extends 'music/base.html' %&#125;</div><div class="line"></div><div class="line">&#123;% block body %&#125;</div><div class="line">&#123;% if all_albums %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">	    &#123;% for album in all_albums %&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;% url 'music:detail' album.id %&#125;/"</span>&gt;</span>&#123;&#123; album.album_title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        &#123;% endfor %&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">&#123;% else %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>No content<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">&#123;% endif %&#125;</div><div class="line">&#123;% endblock %&#125;</div></pre></td></tr></table></figure>
      
            
          </div>
          <div class="post-body" itemprop="articleBody">

      
      

      
            <h1 id="1-ag-代码搜索工具"><a href="#1-ag-代码搜索工具" class="headerlink" title="1 ag 代码搜索工具"></a>1 <a href="https://github.com/ggreer/the_silver_searcher" target="_blank" rel="external">ag</a> 代码搜索工具</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install silversearcher-ag</div></pre></td></tr></table></figure>
    <p>编辑器集成 <strong>vim</strong> 您可以通过将以下行添加到<code>~/.vimrc</code>：[ack.vim][]来使用Ag</p>
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">let g:ackprg = &apos;ag --nogroup --nocolor --column&apos;</div></pre></td></tr></table></figure>
    <h1 id="2-autojump-一个更快的方式来导航你的文件系统"><a href="#2-autojump-一个更快的方式来导航你的文件系统" class="headerlink" title="2 autojump 一个更快的方式来导航你的文件系统"></a>2 <a href="https://github.com/wting/autojump" target="_blank" rel="external">autojump</a> 一个更快的方式来导航你的文件系统</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install autojump</div></pre></td></tr></table></figure>
    <p><strong>oh-my-zsh</strong>配置,编辑<code>~/.zshrc</code>,然后<strong>source ~/.zshrc</strong> 命令使配置文件生效</p>
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">plugins+=(autojump)</div><div class="line">[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; . ~/.autojump/etc/profile.d/autojump.sh</div></pre></td></tr></table></figure>
    <h1 id="3-axel-多线程下载工具，下载文件时可以替代curl、wget"><a href="#3-axel-多线程下载工具，下载文件时可以替代curl、wget" class="headerlink" title="3 axel 多线程下载工具，下载文件时可以替代curl、wget"></a>3 <a href="http://axel.alioth.debian.org/" target="_blank" rel="external">axel</a> 多线程下载工具，下载文件时可以替代curl、wget</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install axel</div></pre></td></tr></table></figure>
    <h1 id="4-bpkg-一个bash包管理器"><a href="#4-bpkg-一个bash包管理器" class="headerlink" title="4 bpkg 一个bash包管理器"></a>4 <a href="http://www.bpkg.sh/" target="_blank" rel="external">bpkg</a> 一个bash包管理器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ curl -sLo- http://get.bpkg.sh | bash</div></pre></td></tr></table></figure>
    <p><strong>源码安装</strong></p>
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git clone https://github.com/bpkg/bpkg.git</div><div class="line">$ cd bpkg</div><div class="line">$ ./setup.sh install</div></pre></td></tr></table></figure>
    <h1 id="5-cloc-计算代码行数"><a href="#5-cloc-计算代码行数" class="headerlink" title="5 cloc 计算代码行数"></a>5 <a href="https://github.com/AlDanial/cloc" target="_blank" rel="external">cloc</a> 计算代码行数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install cloc              # Debian, Ubuntu</div></pre></td></tr></table></figure>
    <h1 id="6-figlet-不寻常的创建大字符的程序"><a href="#6-figlet-不寻常的创建大字符的程序" class="headerlink" title="6 figlet 不寻常的创建大字符的程序"></a>6 <a href="http://www.figlet.org" target="_blank" rel="external">figlet</a> 不寻常的创建大字符的程序</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 解压进入目录</div><div class="line">figlet$ make</div><div class="line">figlet$ make install</div></pre></td></tr></table></figure>
    <h1 id="7-fzf-一个通用的命令行模糊查找器"><a href="#7-fzf-一个通用的命令行模糊查找器" class="headerlink" title="7 fzf 一个通用的命令行模糊查找器"></a>7 <a href="https://github.com/junegunn/fzf#installation" target="_blank" rel="external">fzf</a> 一个通用的命令行模糊查找器</h1><p><strong>使用git</strong></p>
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf</div><div class="line">$ ~/.fzf/install</div></pre></td></tr></table></figure>
    <p><strong>vim 插件集成</strong></p>
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Plugin &apos;junegunn/fzf&apos;, &#123; &apos;dir&apos;: &apos;~/.fzf&apos;, &apos;do&apos;: &apos;./install --all&apos; &#125;</div></pre></td></tr></table></figure>
    <h1 id="8-screenfetch-Bash截图信息工具"><a href="#8-screenfetch-Bash截图信息工具" class="headerlink" title="8 screenfetch Bash截图信息工具"></a>8 <a href="https://github.com/KittyKatt/screenFetch" target="_blank" rel="external">screenfetch</a> Bash截图信息工具</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install screenfetch</div></pre></td></tr></table></figure>
    <h1 id="9-thefuck-纠正您的以前的控制台命令"><a href="#9-thefuck-纠正您的以前的控制台命令" class="headerlink" title="9 thefuck 纠正您的以前的控制台命令"></a>9 <a href="https://github.com/nvbn/thefuck" target="_blank" rel="external">thefuck</a> 纠正您的以前的控制台命令</h1><p><strong>通过pip安装</strong></p>
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt update</div><div class="line">$ sudo apt install python3-dev python3-pip</div><div class="line">$ sudo pip3 install thefuck</div></pre></td></tr></table></figure>
    <h1 id="10-mycli-MySQL的命令行客户端，可以执行自动完成和语法高亮显示"><a href="#10-mycli-MySQL的命令行客户端，可以执行自动完成和语法高亮显示" class="headerlink" title="10 mycli MySQL的命令行客户端，可以执行自动完成和语法高亮显示"></a>10 <a href="https://github.com/dbcli/mycli" target="_blank" rel="external">mycli</a> MySQL的命令行客户端，可以执行自动完成和语法高亮显示</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ pip install -U mycli</div><div class="line"># 或者</div><div class="line">$ sudo apt-get install mycli # Only on debian or ubuntu</div></pre></td></tr></table></figure>
    <h1 id="11-htop-提供更美观、更方便的进程监控工具"><a href="#11-htop-提供更美观、更方便的进程监控工具" class="headerlink" title="11 htop 提供更美观、更方便的进程监控工具"></a>11 <a href="https://github.com/hishamhm/htop" target="_blank" rel="external">htop</a> 提供更美观、更方便的进程监控工具</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install htop</div></pre></td></tr></table></figure>
    <h1 id="12-lolcat-在-Linux-终端中为文本添加彩虹般的色彩"><a href="#12-lolcat-在-Linux-终端中为文本添加彩虹般的色彩" class="headerlink" title="12 lolcat 在 Linux 终端中为文本添加彩虹般的色彩"></a>12 <a href="https://github.com/busyloop/lolcat" target="_blank" rel="external">lolcat</a> 在 Linux 终端中为文本添加彩虹般的色彩</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install ruby</div><div class="line">$ wget https://github.com/busyloop/lolcat/archive/master.zip</div><div class="line">$ unzip master.zip</div><div class="line">$ cd lolcat-master/bin</div><div class="line">$ gem install lolcat</div></pre></td></tr></table></figure>
    <h1 id="13-cowsay-可配置的正在思考或说话的奶牛"><a href="#13-cowsay-可配置的正在思考或说话的奶牛" class="headerlink" title="13 cowsay 可配置的正在思考或说话的奶牛"></a>13 <a href="https://github.com/piuccio/cowsay" target="_blank" rel="external">cowsay</a> 可配置的正在思考或说话的奶牛</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g cowsay</div></pre></td></tr></table></figure>
    <h1 id="14-tldr-简化和社区驱动的手册页的集合"><a href="#14-tldr-简化和社区驱动的手册页的集合" class="headerlink" title="14 tldr 简化和社区驱动的手册页的集合"></a>14 <a href="https://github.com/tldr-pages/tldr" target="_blank" rel="external">tldr</a> 简化和社区驱动的手册页的集合</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo npm install -g tldr</div></pre></td></tr></table></figure>
    <h1 id="15-pm2-PM2是具有内置负载平衡器的Node-js应用程序的生产过程管理器"><a href="#15-pm2-PM2是具有内置负载平衡器的Node-js应用程序的生产过程管理器" class="headerlink" title="15 pm2 PM2是具有内置负载平衡器的Node.js应用程序的生产过程管理器"></a>15 <a href="http://pm2.keymetrics.io/" target="_blank" rel="external">pm2</a> PM2是具有内置负载平衡器的Node.js应用程序的生产过程管理器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install pm2 -g</div></pre></td></tr></table></figure>
    <h1 id="16-ls-上色版ls"><a href="#16-ls-上色版ls" class="headerlink" title="16 ls++ 上色版ls"></a>16 <a href="https://github.com/trapd00r/ls--" target="_blank" rel="external">ls++</a> 上色版ls</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ cpan Term::ExtendedColor</div><div class="line">$ git clone git://github.com/trapd00r/ls--.git</div><div class="line">$ cd ls--</div><div class="line">$ perl Makefile.PL</div><div class="line">$ make &amp;&amp; su -c &apos;make install&apos; # 若权限禁止，则使用root模式执行</div><div class="line">$ cp ls++.conf $HOME/.ls++.conf</div></pre></td></tr></table></figure>
    <h1 id="17-scrot-屏幕截图"><a href="#17-scrot-屏幕截图" class="headerlink" title="17 scrot 屏幕截图"></a>17 <a href="https://launchpad.net/ubuntu/xenial/+package/scrot" target="_blank" rel="external">scrot</a> 屏幕截图</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install scrot</div></pre></td></tr></table></figure>
    <h1 id="18-font-manager-字体管理器（带界面）"><a href="#18-font-manager-字体管理器（带界面）" class="headerlink" title="18 font manager 字体管理器（带界面）"></a>18 <a href="https://fontmanager.github.io/" target="_blank" rel="external">font manager</a> 字体管理器（带界面）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install font-manager</div></pre></td></tr></table></figure>
    <h1 id="19-trash-cli-将文件和文件夹移动到垃圾箱"><a href="#19-trash-cli-将文件和文件夹移动到垃圾箱" class="headerlink" title="19 trash cli 将文件和文件夹移动到垃圾箱"></a>19 <a href="https://github.com/sindresorhus/trash-cli" target="_blank" rel="external">trash cli</a> 将文件和文件夹移动到垃圾箱</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --global trash-cli</div></pre></td></tr></table></figure>
    <h1 id="20-alder-递归目录列表程序，支持文件大小报告和模式匹配"><a href="#20-alder-递归目录列表程序，支持文件大小报告和模式匹配" class="headerlink" title="20 alder 递归目录列表程序，支持文件大小报告和模式匹配"></a>20 <a href="https://github.com/aweary/alder" target="_blank" rel="external">alder</a> 递归目录列表程序，支持文件大小报告和模式匹配</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g @aweary/alder</div></pre></td></tr></table></figure>
    <h1 id="21-bd-zsh-快速进入父目录"><a href="#21-bd-zsh-快速进入父目录" class="headerlink" title="21 bd-zsh 快速进入父目录"></a>21 <a href="https://github.com/vigneshwaranr/bd" target="_blank" rel="external">bd-zsh</a> 快速进入父目录</h1><p><strong>这里写的是，安装zsh插件（不单独安装）</strong></p>
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p $HOME/.zsh/plugins/bd</div><div class="line">$ curl https://raw.githubusercontent.com/Tarrasch/zsh-bd/master/bd.zsh &gt; $HOME/.zsh/plugins/bd/bd.zsh</div><div class="line">$ print -- &quot;\n# zsh-bd\n. \$HOME/.zsh/plugins/bd/bd.zsh&quot; &gt;&gt; $HOME/.zshrc</div></pre></td></tr></table></figure>
    <h1 id="22-tmux-多终端复用"><a href="#22-tmux-多终端复用" class="headerlink" title="22 tmux 多终端复用"></a>22 <a href="https://github.com/tmux/tmux" target="_blank" rel="external">tmux</a> 多终端复用</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install tmux</div></pre></td></tr></table></figure>
    <p><strong><a href="http://blog.jobbole.com/87584/" target="_blank" rel="external">教程</a></strong></p>
    
          
        </div>
        <div class="post-body" itemprop="articleBody">

      
      

      
          <p>#开发一个简单的Toast应用</p>
  <p>##1 下载 Android Studio 并安装 </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">进入官网 https://developer.android.com/studio/ 下载</div></pre></td></tr></table></figure>
  <p>一路确认安装后，打开 <code>Android Studio</code>  新建项目, 到选择<code>Activity</code>布局时，选择空白布局。</p>
  <p>完成选择后等待下载<code>gradle</code>, 进入工程界面后，在<code>activity_main.xml</code> 的设计那里选择主题才会出现布局效果。</p>
  <h2 id="2-编写一个Toast-应用"><a href="#2-编写一个Toast-应用" class="headerlink" title="2 编写一个Toast 应用"></a>2 编写一个Toast 应用</h2><p>###1添加按钮</p>
  <pre><code>在布局界面（activity_main.xml）Design, 拖动一个按钮到主界面上，点击上方的魔棒按钮（Infer Constraints）。
  </code></pre><h3 id="2-编写按钮事件"><a href="#2-编写按钮事件" class="headerlink" title="2 编写按钮事件"></a>2 编写按钮事件</h3><p>找到工程的<code>MainActivity.java</code> 写一个按钮实例，然后再写一个按钮事件，按钮事件监听单击显示Toast。代码如下：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 此处省略包名</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</div><div class="line"><span class="keyword">import</span> android.os.Bundle;</div><div class="line"><span class="keyword">import</span> android.view.View;</div><div class="line"><span class="keyword">import</span> android.widget.Button;</div><div class="line"><span class="keyword">import</span> android.widget.Toast;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line">    Button bt1;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line"></div><div class="line">        bt1 = findViewById(R.id.button);</div><div class="line">        bt1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">                Toast.makeText(getApplicationContext(), <span class="string">"你好，安卓"</span>, Toast.LENGTH_LONG).show();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
  <h3 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h3><p><img src="https://github.com/wothard/wothard.github.io/blob/master/images/sucko.gif?raw=true" alt="" title="Lo1"></p>
  
        
      </div>

              <footer class="post-footer">






              </footer>
            </article>



            <div>

            </div>

            <div class="post-spread">

            </div>
          </div>

        </div>
      </div>



      <div class="sidebar-toggle">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      <aside id="sidebar" class="sidebar">
        <div class="sidebar-inner">


          <ul class="sidebar-nav motion-element">
            <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
              文章目录
            </li>
            <li class="sidebar-nav-overview" data-target="site-overview">
              站点概览
            </li>
          </ul>


          <section class="site-overview">
            <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
              <img class="site-author-image" src="/images/default_avatar.jpg" alt="Wothard" itemprop="image" />
              <p class="site-author-name" itemprop="name">Wothard</p>
            </div>
            <p class="site-description motion-element" itemprop="description">出不入兮往不反，平原忽兮路超远。带长剑兮挟秦弓，首身离兮心不惩。</p>
            <nav class="site-state motion-element">
              <div class="site-state-item site-state-posts">
                <a href="/archives">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>

              <div class="site-state-item site-state-categories">
                <a href="/categories">
                  <span class="site-state-item-count">0</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>

              <div class="site-state-item site-state-tags">
                <a href="/tags">
                  <span class="site-state-item-count">0</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>

            </nav>



            <div class="links-of-author motion-element">


              <span class="links-of-author-item">
                <a href="https://www.github.com/wothard" target="_blank">GitHub</a>
              </span>

              <span class="links-of-author-item">
                <a href="https://wothard.github.io/python" target="_blank">Python</a>
              </span>

              <span class="links-of-author-item">
                <a href="https://wothard.github.io/old" target="_blank">Old</a>
              </span>


            </div>

            <div class="links-of-friendly motion-element">

              <p class="site-author-name">前方高能</p>

              <span class="links-of-author-item">
                <a href="http://github.com/wothard" target="_blank">你猜</a>
              </span>


            </div>




          </section>


          <section class="post-toc-wrap sidebar-panel-active">
            <div class="post-toc-indicator-top post-toc-indicator"></div>
            <div class="post-toc">


              <p class="post-toc-empty">此文章未包含目录</p>

            </div>
            <div class="post-toc-indicator-bottom post-toc-indicator"></div>
          </section>


        </div>
      </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">

          &copy; &nbsp;
          <span itemprop="copyrightYear">2020-12-17
          </span>
          <span class="with-love">
            <i class="icon-next-heart"></i>
          </span>
          <span>🍕🍔🍟🌭🍿🧂🥓🧇🥞🧈🍞🥐🥨🥯🥖🧀🥗🥙🥪🌮🥠🌯</span>
          <span class="author" itemprop="copyrightHolder">Wothard
          </span>
        </div>

        <div class="">
          诚既勇兮 <a class="theme-link" href="http://hexo.io" target="_blank" rel="noopener">Hexo</a>
        </div>


      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>







  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>



  <script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


  <script type="text/javascript" id="sidebar.toc.highlight">
    $(document).ready(function () {
      var tocSelector = '.post-toc';
      var $tocSelector = $(tocSelector);
      var activeCurrentSelector = '.active-current';

      $tocSelector
        .on('activate.bs.scrollspy', function () {
          var $currentActiveElement = $(tocSelector + ' .active').last();

          removeCurrentActiveClass();
          $currentActiveElement.addClass('active-current');

          $tocSelector[0].scrollTop = $currentActiveElement.position().top;
        })
        .on('clear.bs.scrollspy', function () {
          removeCurrentActiveClass();
        });

      function removeCurrentActiveClass() {
        $(tocSelector + ' ' + activeCurrentSelector)
          .removeClass(activeCurrentSelector.substring(1));
      }

      function processTOC() {
        getTOCMaxHeight();
        toggleTOCOverflowIndicators();
      }

      function getTOCMaxHeight() {
        var height = $('.sidebar').height() -
          $tocSelector.position().top -
          $('.post-toc-indicator-bottom').height();

        $tocSelector.css('height', height);

        return height;
      }

      function toggleTOCOverflowIndicators() {
        tocOverflowIndicator(
          '.post-toc-indicator-top',
          $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
        );

        tocOverflowIndicator(
          '.post-toc-indicator-bottom',
          $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
        )
      }

      $(document).on('sidebar.motion.complete', function () {
        processTOC();
      });

      $('body').scrollspy({ target: tocSelector });
      $(window).on('resize', function () {
        if ($('.sidebar').hasClass('sidebar-active')) {
          processTOC();
        }
      });

      onScroll($tocSelector);

      function onScroll(element) {
        element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += (delta < 0 ? 1 : -1) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
        });
      }

      function tocOverflowIndicator(indicator, action) {
        var $indicator = $(indicator);
        var opacity = action === 'show' ? 0.4 : 0;
        $indicator.velocity ?
          $indicator.velocity('stop').velocity({
            opacity: opacity
          }, { duration: 100 }) :
          $indicator.stop().animate({
            opacity: opacity
          }, 100);
      }

    });
  </script>

  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');
      var TAB_ANIMATE_DURATION = 200;
      var hasVelocity = $.isFunction(html.velocity);

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        hasVelocity ?
          currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
            target
              .velocity('stop')
              .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
              .addClass(activePanelClassName);
          }) :
          currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
            currentTarget.hide();
            target
              .stop()
              .css({ 'opacity': 0, 'display': 'block' })
              .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
                currentTarget.removeClass(activePanelClassName);
                target.addClass(activePanelClassName);
              });
          });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var targetSelector = escapeSelector(this.getAttribute('href'));
        var offset = $(targetSelector).offset().top;
        hasVelocity ?
          html.velocity('stop').velocity('scroll', {
            offset: offset + 'px',
            mobileHA: false
          }) :
          $('html, body').stop().animate({
            scrollTop: offset
          }, 500);
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if (isDesktop() && CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    });
  </script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>







  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>

</html>